---
title: REST API
id: api
---

Ory Keto is a cloud native access control server providing best-practice
patterns (RBAC, ABAC, ACL, AWS IAM Policies, Kubernetes Roles, ...) via REST
APIs.

import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'

:::info

You are viewing REST API documentation. This documentation is auto-generated
from a swagger specification which itself is generated from annotations in the
source code of the project. It is possible that this documentation includes bugs
and that code samples are incomplete or wrong.

If you find issues in the respective documentation, please do not edit the
Markdown files directly (as they are generated) but raise an issue on the
project's GitHub presence instead. This documentation will improve over time
with your help! If you have ideas how to improve this part of the documentation,
feel free to share them in a
[GitHub issue](https://github.com/ory/docs/issues/new) any time.

:::

<a id="ory-keto-read"></a>

## read

<a id="opIdpostCheck"></a>

### Check a relation tuple

```
POST /check HTTP/1.1
Content-Type: application/json
Accept: application/json

```

To learn how relation tuples and the check works, head over to
[the documentation](/TODO).

#### Request body

```json
{
  "namespace": "string",
  "object": "string",
  "relation": "string",
  "subject": "string"
}
```

<a id="check-a-relation-tuple-parameters"></a>

#### Parameters

| Parameter | In   | Type                                                  | Required | Description |
| --------- | ---- | ----------------------------------------------------- | -------- | ----------- |
| body      | body | [InternalRelationTuple](#schemainternalrelationtuple) | false    | none        |

#### Responses

<a id="check-a-relation-tuple-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description               | Schema                                      |
| ------ | -------------------------------------------------------------------------- | ------------------------- | ------------------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | getCheckResponse          | [getCheckResponse](#schemagetcheckresponse) |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)           | The standard error format | Inline                                      |
| 403    | [Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3)             | getCheckResponse          | [getCheckResponse](#schemagetcheckresponse) |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | The standard error format | Inline                                      |

<a id="check-a-relation-tuple-responseschema"></a>

##### Response Schema

Status Code **400**

| Name      | Type           | Required | Restrictions | Description |
| --------- | -------------- | -------- | ------------ | ----------- |
| » code    | integer(int64) | false    | none         | none        |
| » details | [object]       | false    | none         | none        |
| » message | string         | false    | none         | none        |
| » reason  | string         | false    | none         | none        |
| » request | string         | false    | none         | none        |
| » status  | string         | false    | none         | none        |

Status Code **500**

| Name      | Type           | Required | Restrictions | Description |
| --------- | -------------- | -------- | ------------ | ----------- |
| » code    | integer(int64) | false    | none         | none        |
| » details | [object]       | false    | none         | none        |
| » message | string         | false    | none         | none        |
| » reason  | string         | false    | none         | none        |
| » request | string         | false    | none         | none        |
| » status  | string         | false    | none         | none        |

##### Examples

###### 200 response

```json
{
  "allowed": true
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X POST /check \
  -H 'Content-Type: application/json' \  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Content-Type": []string{"application/json"},
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("POST", "/check", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch');
const input = '{
  "namespace": "string",
  "object": "string",
  "relation": "string",
  "subject": "string"
}';
const headers = {
  'Content-Type': 'application/json',  'Accept': 'application/json'
}

fetch('/check', {
  method: 'POST',
  body: input,
  headers
})
.then(r => r.json())
.then((body) => {
    console.log(body)
})
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/check");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("POST");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Content-Type': 'application/json',
  'Accept': 'application/json'
}

r = requests.post(
  '/check',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/json',
  'Accept' => 'application/json'
}

result = RestClient.post '/check',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdgetExpand"></a>

### getExpand

```
GET /expand?namespace=string&object=string&relation=string HTTP/1.1
Accept: application/json

```

Expand a relation tuple

<a id="getexpand-parameters"></a>

#### Parameters

| Parameter | In    | Type           | Required | Description |
| --------- | ----- | -------------- | -------- | ----------- |
| namespace | query | string         | true     | none        |
| object    | query | string         | true     | none        |
| relation  | query | string         | true     | none        |
| max-depth | query | integer(int64) | false    | none        |

#### Responses

<a id="getexpand-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description               | Schema                          |
| ------ | -------------------------------------------------------------------------- | ------------------------- | ------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | expandTree                | [expandTree](#schemaexpandtree) |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)           | The standard error format | Inline                          |
| 404    | [Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)             | The standard error format | Inline                          |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | The standard error format | Inline                          |

<a id="getexpand-responseschema"></a>

##### Response Schema

Status Code **400**

| Name      | Type           | Required | Restrictions | Description |
| --------- | -------------- | -------- | ------------ | ----------- |
| » code    | integer(int64) | false    | none         | none        |
| » details | [object]       | false    | none         | none        |
| » message | string         | false    | none         | none        |
| » reason  | string         | false    | none         | none        |
| » request | string         | false    | none         | none        |
| » status  | string         | false    | none         | none        |

Status Code **404**

| Name      | Type           | Required | Restrictions | Description |
| --------- | -------------- | -------- | ------------ | ----------- |
| » code    | integer(int64) | false    | none         | none        |
| » details | [object]       | false    | none         | none        |
| » message | string         | false    | none         | none        |
| » reason  | string         | false    | none         | none        |
| » request | string         | false    | none         | none        |
| » status  | string         | false    | none         | none        |

Status Code **500**

| Name      | Type           | Required | Restrictions | Description |
| --------- | -------------- | -------- | ------------ | ----------- |
| » code    | integer(int64) | false    | none         | none        |
| » details | [object]       | false    | none         | none        |
| » message | string         | false    | none         | none        |
| » reason  | string         | false    | none         | none        |
| » request | string         | false    | none         | none        |
| » status  | string         | false    | none         | none        |

##### Examples

###### 200 response

```json
{
  "children": [
    {
      "children": [],
      "subject": "string",
      "type": "union"
    }
  ],
  "subject": "string",
  "type": "union"
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /expand?namespace=string&object=string&relation=string \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/expand", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/expand?namespace=string&object=string&relation=string', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/expand?namespace=string&object=string&relation=string");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/expand',
  params={
    'namespace': 'string',
    'object': 'string',
    'relation': 'string'},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/expand',
  params: {
    'namespace' => 'string',
    'object' => 'string',
    'relation' => 'string'}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdgetRelationTuples"></a>

### Query relation tuples

```
GET /relationtuple?namespace=string HTTP/1.1
Accept: application/json

```

Get all relation tuples that match the query. Only the namespace field is
required.

<a id="query-relation-tuples-parameters"></a>

#### Parameters

| Parameter  | In    | Type           | Required | Description |
| ---------- | ----- | -------------- | -------- | ----------- |
| namespace  | query | string         | true     | none        |
| object     | query | string         | false    | none        |
| relation   | query | string         | false    | none        |
| subject    | query | string         | false    | none        |
| page_token | query | string         | false    | none        |
| page_size  | query | integer(int64) | false    | none        |

#### Responses

<a id="query-relation-tuples-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description               | Schema                                                        |
| ------ | -------------------------------------------------------------------------- | ------------------------- | ------------------------------------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | getRelationTuplesResponse | [getRelationTuplesResponse](#schemagetrelationtuplesresponse) |
| 404    | [Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)             | The standard error format | Inline                                                        |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | The standard error format | Inline                                                        |

<a id="query-relation-tuples-responseschema"></a>

##### Response Schema

Status Code **404**

| Name      | Type           | Required | Restrictions | Description |
| --------- | -------------- | -------- | ------------ | ----------- |
| » code    | integer(int64) | false    | none         | none        |
| » details | [object]       | false    | none         | none        |
| » message | string         | false    | none         | none        |
| » reason  | string         | false    | none         | none        |
| » request | string         | false    | none         | none        |
| » status  | string         | false    | none         | none        |

Status Code **500**

| Name      | Type           | Required | Restrictions | Description |
| --------- | -------------- | -------- | ------------ | ----------- |
| » code    | integer(int64) | false    | none         | none        |
| » details | [object]       | false    | none         | none        |
| » message | string         | false    | none         | none        |
| » reason  | string         | false    | none         | none        |
| » request | string         | false    | none         | none        |
| » status  | string         | false    | none         | none        |

##### Examples

###### 200 response

```json
{
  "is_last_page": true,
  "next_page_token": "string",
  "relation_tuples": [
    {
      "namespace": "string",
      "object": "string",
      "relation": "string",
      "subject": "string"
    }
  ]
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /relationtuple?namespace=string \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/relationtuple", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/relationtuple?namespace=string', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/relationtuple?namespace=string");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/relationtuple',
  params={
    'namespace': 'string'},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/relationtuple',
  params: {
    'namespace' => 'string'}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="ory-keto-health"></a>

## health

<a id="opIdisInstanceAlive"></a>

### Check alive status

```
GET /health/alive HTTP/1.1
Accept: application/json

```

This endpoint returns a 200 status code when the HTTP server is up running. This
status does currently not include checks whether the database connection is
working.

If the service supports TLS Edge Termination, this endpoint does not require the
`X-Forwarded-Proto` header to be set.

Be aware that if you are running multiple nodes of this service, the health
status will never refer to the cluster state, only to a single instance.

#### Responses

<a id="check-alive-status-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description               | Schema                              |
| ------ | -------------------------------------------------------------------------- | ------------------------- | ----------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | healthStatus              | [healthStatus](#schemahealthstatus) |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | The standard error format | Inline                              |

<a id="check-alive-status-responseschema"></a>

##### Response Schema

Status Code **500**

| Name      | Type           | Required | Restrictions | Description |
| --------- | -------------- | -------- | ------------ | ----------- |
| » code    | integer(int64) | false    | none         | none        |
| » details | [object]       | false    | none         | none        |
| » message | string         | false    | none         | none        |
| » reason  | string         | false    | none         | none        |
| » request | string         | false    | none         | none        |
| » status  | string         | false    | none         | none        |

##### Examples

###### 200 response

```json
{
  "status": "string"
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /health/alive \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/health/alive", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/health/alive', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/health/alive");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/health/alive',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/health/alive',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdisInstanceReady"></a>

### Check readiness status

```
GET /health/ready HTTP/1.1
Accept: application/json

```

This endpoint returns a 200 status code when the HTTP server is up running and
the environment dependencies (e.g. the database) are responsive as well.

If the service supports TLS Edge Termination, this endpoint does not require the
`X-Forwarded-Proto` header to be set.

Be aware that if you are running multiple nodes of this service, the health
status will never refer to the cluster state, only to a single instance.

#### Responses

<a id="check-readiness-status-responses"></a>

##### Overview

| Status | Meaning                                                                  | Description          | Schema                                              |
| ------ | ------------------------------------------------------------------------ | -------------------- | --------------------------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                  | healthStatus         | [healthStatus](#schemahealthstatus)                 |
| 503    | [Service Unavailable](https://tools.ietf.org/html/rfc7231#section-6.6.4) | healthNotReadyStatus | [healthNotReadyStatus](#schemahealthnotreadystatus) |

##### Examples

###### 200 response

```json
{
  "status": "string"
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /health/ready \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/health/ready", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/health/ready', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/health/ready");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/health/ready',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/health/ready',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="ory-keto-write"></a>

## write

<a id="opIdcreateRelationTuple"></a>

### createRelationTuple

```
PUT /relationtuple HTTP/1.1
Content-Type: application/json
Accept: application/json

```

Create a relation tuple

#### Request body

```json
{
  "namespace": "string",
  "object": "string",
  "relation": "string",
  "subject": "string"
}
```

<a id="createrelationtuple-parameters"></a>

#### Parameters

| Parameter | In   | Type                                                  | Required | Description |
| --------- | ---- | ----------------------------------------------------- | -------- | ----------- |
| body      | body | [InternalRelationTuple](#schemainternalrelationtuple) | false    | none        |

#### Responses

<a id="createrelationtuple-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description               | Schema                                                |
| ------ | -------------------------------------------------------------------------- | ------------------------- | ----------------------------------------------------- |
| 201    | [Created](https://tools.ietf.org/html/rfc7231#section-6.3.2)               | InternalRelationTuple     | [InternalRelationTuple](#schemainternalrelationtuple) |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)           | The standard error format | Inline                                                |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | The standard error format | Inline                                                |

<a id="createrelationtuple-responseschema"></a>

##### Response Schema

Status Code **400**

| Name      | Type           | Required | Restrictions | Description |
| --------- | -------------- | -------- | ------------ | ----------- |
| » code    | integer(int64) | false    | none         | none        |
| » details | [object]       | false    | none         | none        |
| » message | string         | false    | none         | none        |
| » reason  | string         | false    | none         | none        |
| » request | string         | false    | none         | none        |
| » status  | string         | false    | none         | none        |

Status Code **500**

| Name      | Type           | Required | Restrictions | Description |
| --------- | -------------- | -------- | ------------ | ----------- |
| » code    | integer(int64) | false    | none         | none        |
| » details | [object]       | false    | none         | none        |
| » message | string         | false    | none         | none        |
| » reason  | string         | false    | none         | none        |
| » request | string         | false    | none         | none        |
| » status  | string         | false    | none         | none        |

##### Examples

###### 201 response

```json
{
  "namespace": "string",
  "object": "string",
  "relation": "string",
  "subject": "string"
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X PUT /relationtuple \
  -H 'Content-Type: application/json' \  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Content-Type": []string{"application/json"},
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("PUT", "/relationtuple", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch');
const input = '{
  "namespace": "string",
  "object": "string",
  "relation": "string",
  "subject": "string"
}';
const headers = {
  'Content-Type': 'application/json',  'Accept': 'application/json'
}

fetch('/relationtuple', {
  method: 'PUT',
  body: input,
  headers
})
.then(r => r.json())
.then((body) => {
    console.log(body)
})
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/relationtuple");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("PUT");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Content-Type': 'application/json',
  'Accept': 'application/json'
}

r = requests.put(
  '/relationtuple',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/json',
  'Accept' => 'application/json'
}

result = RestClient.put '/relationtuple',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIddeleteRelationTuple"></a>

### deleteRelationTuple

```
DELETE /relationtuple?namespace=string&object=string&relation=string HTTP/1.1
Accept: application/json

```

Delete a relation tuple

<a id="deleterelationtuple-parameters"></a>

#### Parameters

| Parameter | In    | Type   | Required | Description                    |
| --------- | ----- | ------ | -------- | ------------------------------ |
| namespace | query | string | true     | none                           |
| object    | query | string | true     | none                           |
| relation  | query | string | true     | none                           |
| subject   | query | string | false    | string encoding of the subject |

#### Responses

<a id="deleterelationtuple-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description                                                                                                                   | Schema |
| ------ | -------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- | ------ |
| 204    | [No Content](https://tools.ietf.org/html/rfc7231#section-6.3.5)            | Empty responses are sent when, for example, resources are deleted. The HTTP status code for empty responses is typically 201. | None   |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)           | The standard error format                                                                                                     | Inline |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | The standard error format                                                                                                     | Inline |

<a id="deleterelationtuple-responseschema"></a>

##### Response Schema

Status Code **400**

| Name      | Type           | Required | Restrictions | Description |
| --------- | -------------- | -------- | ------------ | ----------- |
| » code    | integer(int64) | false    | none         | none        |
| » details | [object]       | false    | none         | none        |
| » message | string         | false    | none         | none        |
| » reason  | string         | false    | none         | none        |
| » request | string         | false    | none         | none        |
| » status  | string         | false    | none         | none        |

Status Code **500**

| Name      | Type           | Required | Restrictions | Description |
| --------- | -------------- | -------- | ------------ | ----------- |
| » code    | integer(int64) | false    | none         | none        |
| » details | [object]       | false    | none         | none        |
| » message | string         | false    | none         | none        |
| » reason  | string         | false    | none         | none        |
| » request | string         | false    | none         | none        |
| » status  | string         | false    | none         | none        |

##### Examples

###### 400 response

```json
{
  "code": 0,
  "details": [{}],
  "message": "string",
  "reason": "string",
  "request": "string",
  "status": "string"
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X DELETE /relationtuple?namespace=string&object=string&relation=string \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("DELETE", "/relationtuple", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/relationtuple?namespace=string&object=string&relation=string', {
  method: 'DELETE',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/relationtuple?namespace=string&object=string&relation=string");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("DELETE");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.delete(
  '/relationtuple',
  params={
    'namespace': 'string',
    'object': 'string',
    'relation': 'string'},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.delete '/relationtuple',
  params: {
    'namespace' => 'string',
    'object' => 'string',
    'relation' => 'string'}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdpatchRelationTuples"></a>

### patchRelationTuples

```
PATCH /relationtuple HTTP/1.1
Content-Type: application/json
Accept: application/json

```

Patch multiple relation tuples

#### Request body

```json
[
  {
    "action": "string",
    "relation_tuple": {
      "namespace": "string",
      "object": "string",
      "relation": "string",
      "subject": "string"
    }
  }
]
```

<a id="patchrelationtuples-parameters"></a>

#### Parameters

| Parameter | In   | Type                            | Required | Description |
| --------- | ---- | ------------------------------- | -------- | ----------- |
| body      | body | [PatchDelta](#schemapatchdelta) | false    | none        |

#### Responses

<a id="patchrelationtuples-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description                                                                                                                   | Schema |
| ------ | -------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- | ------ |
| 204    | [No Content](https://tools.ietf.org/html/rfc7231#section-6.3.5)            | Empty responses are sent when, for example, resources are deleted. The HTTP status code for empty responses is typically 201. | None   |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)           | The standard error format                                                                                                     | Inline |
| 404    | [Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)             | The standard error format                                                                                                     | Inline |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | The standard error format                                                                                                     | Inline |

<a id="patchrelationtuples-responseschema"></a>

##### Response Schema

Status Code **400**

| Name      | Type           | Required | Restrictions | Description |
| --------- | -------------- | -------- | ------------ | ----------- |
| » code    | integer(int64) | false    | none         | none        |
| » details | [object]       | false    | none         | none        |
| » message | string         | false    | none         | none        |
| » reason  | string         | false    | none         | none        |
| » request | string         | false    | none         | none        |
| » status  | string         | false    | none         | none        |

Status Code **404**

| Name      | Type           | Required | Restrictions | Description |
| --------- | -------------- | -------- | ------------ | ----------- |
| » code    | integer(int64) | false    | none         | none        |
| » details | [object]       | false    | none         | none        |
| » message | string         | false    | none         | none        |
| » reason  | string         | false    | none         | none        |
| » request | string         | false    | none         | none        |
| » status  | string         | false    | none         | none        |

Status Code **500**

| Name      | Type           | Required | Restrictions | Description |
| --------- | -------------- | -------- | ------------ | ----------- |
| » code    | integer(int64) | false    | none         | none        |
| » details | [object]       | false    | none         | none        |
| » message | string         | false    | none         | none        |
| » reason  | string         | false    | none         | none        |
| » request | string         | false    | none         | none        |
| » status  | string         | false    | none         | none        |

##### Examples

###### 400 response

```json
{
  "code": 0,
  "details": [{}],
  "message": "string",
  "reason": "string",
  "request": "string",
  "status": "string"
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X PATCH /relationtuple \
  -H 'Content-Type: application/json' \  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Content-Type": []string{"application/json"},
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("PATCH", "/relationtuple", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch');
const input = '[
  {
    "action": "string",
    "relation_tuple": {
      "namespace": "string",
      "object": "string",
      "relation": "string",
      "subject": "string"
    }
  }
]';
const headers = {
  'Content-Type': 'application/json',  'Accept': 'application/json'
}

fetch('/relationtuple', {
  method: 'PATCH',
  body: input,
  headers
})
.then(r => r.json())
.then((body) => {
    console.log(body)
})
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/relationtuple");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("PATCH");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Content-Type': 'application/json',
  'Accept': 'application/json'
}

r = requests.patch(
  '/relationtuple',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/json',
  'Accept' => 'application/json'
}

result = RestClient.patch '/relationtuple',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="ory-keto-version"></a>

## version

<a id="opIdgetVersion"></a>

### Get service version

```
GET /version HTTP/1.1
Accept: application/json

```

This endpoint returns the service version typically notated using semantic
versioning.

If the service supports TLS Edge Termination, this endpoint does not require the
`X-Forwarded-Proto` header to be set.

Be aware that if you are running multiple nodes of this service, the health
status will never refer to the cluster state, only to a single instance.

#### Responses

<a id="get-service-version-responses"></a>

##### Overview

| Status | Meaning                                                 | Description | Schema                    |
| ------ | ------------------------------------------------------- | ----------- | ------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1) | version     | [version](#schemaversion) |

##### Examples

###### 200 response

```json
{
  "version": "string"
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /version \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/version", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/version', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/version");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/version',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/version',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

## Schemas

<a id="tocSinternalrelationtuple"></a>

#### InternalRelationTuple

<a id="schemainternalrelationtuple"></a>

```json
{
  "namespace": "string",
  "object": "string",
  "relation": "string",
  "subject": "string"
}
```

#### Properties

| Name      | Type                      | Required | Restrictions | Description |
| --------- | ------------------------- | -------- | ------------ | ----------- |
| namespace | string                    | true     | none         | in: query   |
| object    | string                    | true     | none         | in: query   |
| relation  | string                    | true     | none         | in: query   |
| subject   | [subject](#schemasubject) | true     | none         | none        |

<a id="tocSpatchdelta"></a>

#### PatchDelta

<a id="schemapatchdelta"></a>

```json
{
  "action": "string",
  "relation_tuple": {
    "namespace": "string",
    "object": "string",
    "relation": "string",
    "subject": "string"
  }
}
```

#### Properties

| Name           | Type                                                  | Required | Restrictions | Description |
| -------------- | ----------------------------------------------------- | -------- | ------------ | ----------- |
| action         | [patchAction](#schemapatchaction)                     | false    | none         | none        |
| relation_tuple | [InternalRelationTuple](#schemainternalrelationtuple) | false    | none         | none        |

<a id="tocSexpandtree"></a>

#### expandTree

<a id="schemaexpandtree"></a>

```json
{
  "children": [
    {
      "children": [],
      "subject": "string",
      "type": "union"
    }
  ],
  "subject": "string",
  "type": "union"
}
```

#### Properties

| Name     | Type                              | Required | Restrictions | Description |
| -------- | --------------------------------- | -------- | ------------ | ----------- |
| children | [[expandTree](#schemaexpandtree)] | false    | none         | none        |
| subject  | [subject](#schemasubject)         | true     | none         | none        |
| type     | string                            | true     | none         | none        |

##### Enumerated Values

| Property | Value        |
| -------- | ------------ |
| type     | union        |
| type     | exclusion    |
| type     | intersection |
| type     | leaf         |

<a id="tocSgetcheckresponse"></a>

#### getCheckResponse

<a id="schemagetcheckresponse"></a>

```json
{
  "allowed": true
}
```

_Represents the response for a check request._

#### Properties

| Name    | Type    | Required | Restrictions | Description                           |
| ------- | ------- | -------- | ------------ | ------------------------------------- |
| allowed | boolean | true     | none         | whether the relation tuple is allowed |

<a id="tocSgetrelationtuplesresponse"></a>

#### getRelationTuplesResponse

<a id="schemagetrelationtuplesresponse"></a>

```json
{
  "is_last_page": true,
  "next_page_token": "string",
  "relation_tuples": [
    {
      "namespace": "string",
      "object": "string",
      "relation": "string",
      "subject": "string"
    }
  ]
}
```

#### Properties

| Name            | Type                                                    | Required | Restrictions | Description |
| --------------- | ------------------------------------------------------- | -------- | ------------ | ----------- |
| is_last_page    | boolean                                                 | false    | none         | none        |
| next_page_token | string                                                  | false    | none         | none        |
| relation_tuples | [[InternalRelationTuple](#schemainternalrelationtuple)] | false    | none         | none        |

<a id="tocShealthnotreadystatus"></a>

#### healthNotReadyStatus

<a id="schemahealthnotreadystatus"></a>

```json
{
  "errors": {
    "property1": "string",
    "property2": "string"
  }
}
```

#### Properties

| Name                       | Type   | Required | Restrictions | Description                                                        |
| -------------------------- | ------ | -------- | ------------ | ------------------------------------------------------------------ |
| errors                     | object | false    | none         | Errors contains a list of errors that caused the not ready status. |
| » **additionalProperties** | string | false    | none         | none                                                               |

<a id="tocShealthstatus"></a>

#### healthStatus

<a id="schemahealthstatus"></a>

```json
{
  "status": "string"
}
```

#### Properties

| Name   | Type   | Required | Restrictions | Description                  |
| ------ | ------ | -------- | ------------ | ---------------------------- |
| status | string | false    | none         | Status always contains "ok". |

<a id="tocSpatchaction"></a>

#### patchAction

<a id="schemapatchaction"></a>

```json
"string"
```

#### Properties

| Name        | Type   | Required | Restrictions | Description |
| ----------- | ------ | -------- | ------------ | ----------- |
| _anonymous_ | string | false    | none         | none        |

<a id="tocSsubject"></a>

#### subject

<a id="schemasubject"></a>

```json
"string"
```

#### Properties

| Name        | Type   | Required | Restrictions | Description |
| ----------- | ------ | -------- | ------------ | ----------- |
| _anonymous_ | string | false    | none         | none        |

<a id="tocSversion"></a>

#### version

<a id="schemaversion"></a>

```json
{
  "version": "string"
}
```

#### Properties

| Name    | Type   | Required | Restrictions | Description                       |
| ------- | ------ | -------- | ------------ | --------------------------------- |
| version | string | false    | none         | Version is the service's version. |
